var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,l=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s;import{d as n,c as o,aI as c,a as m,o as d,aE as p,aA as u,F as v,e as f,f as x,p as g,z as j,h as y,i as b,u as w,m as h,aa as M,c1 as _,G as O,H as k,B as z,az as C,I as V,J as E,e2 as A,e0 as I,y as P,l as T,n as B}from"./index-tq4TX8ps.js";import{E as D}from"./el-drawer-DX4UsQTJ.js";import"./el-overlay-eO4DGCYD.js";import{_ as H}from"./index.vue_vue_type_script_setup_true_lang-OUKHz1NZ.js";/* empty css                 */import{E as K}from"./el-button-DyAC8C5p.js";import{E as G}from"./el-avatar-B1bYeXym.js";import{m as S}from"./avatar6-VNTlcTK9.js";import{a as U}from"./avatar10-Dom60BwY.js";import{E as Y}from"./index-DiYLWqjA.js";import"./index-ChLCAD_I.js";import"./vnode-C19zY2fz.js";import"./index-WcMWsiUt.js";import"./scroll-CqDkJM1i.js";import"./index-DlJfAqfE.js";import"./aria-Dle50h-X.js";import"./index-DK0M4ZfF.js";import"./index-DlvAES6j.js";import"./use-form-common-props-C1bnLtuv.js";import"./event-BwRzfsZt.js";import"./index-CZ4uNybv.js";const F={class:"mb-5 flex-cb"},J={class:"mt-1.5 flex-c gap-1"},L={class:"text-xs text-g-600"},Q={class:"flex h-[calc(100%-70px)] flex-col"},R={class:"font-medium"},W={class:"text-g-600"},X={class:"px-4 pt-4"},$={class:"flex gap-2 py-2"},q={class:"mt-3 flex-cb"},N={class:"flex-c"},Z="Art Bot",ee="Ricky",ae=n((te=((e,a)=>{for(var t in a||(a={}))r.call(a,t)&&l(e,t,a[t]);if(s)for(var t of s(a))i.call(a,t)&&l(e,t,a[t]);return e})({},{name:"ArtChatWindow"}),a(te,t({__name:"index",setup(e){const{width:a}=c(),t=o(()=>a.value<640),s=m(!1),r=m(!0),i=m(""),l=m(10),n=m(null),ae=m([{id:1,sender:Z,content:"你好！我是你的AI助手，有什么我可以帮你的吗？",time:"10:00",isMe:!1,avatar:U},{id:2,sender:ee,content:"我想了解一下系统的使用方法。",time:"10:01",isMe:!0,avatar:S},{id:3,sender:Z,content:"好的，我来为您介绍系统的主要功能。首先，您可以通过左侧菜单访问不同的功能模块...",time:"10:02",isMe:!1,avatar:U},{id:4,sender:ee,content:"听起来很不错，能具体讲讲数据分析部分吗？",time:"10:05",isMe:!0,avatar:S},{id:5,sender:Z,content:"当然可以。数据分析模块可以帮助您实时监控关键指标，并生成详细的报表...",time:"10:06",isMe:!1,avatar:U},{id:6,sender:ee,content:"太好了，那我如何开始使用呢？",time:"10:08",isMe:!0,avatar:S},{id:7,sender:Z,content:"您可以先创建一个项目，然后在项目中添加相关的数据源，系统会自动进行分析。",time:"10:09",isMe:!1,avatar:U},{id:8,sender:ee,content:"明白了，谢谢你的帮助！",time:"10:10",isMe:!0,avatar:S},{id:9,sender:Z,content:"不客气，有任何问题随时联系我。",time:"10:11",isMe:!1,avatar:U}]),te=()=>{B(()=>{setTimeout(()=>{n.value&&(n.value.scrollTop=n.value.scrollHeight)},100)})},se=()=>{const e=i.value.trim();if(!e)return;const a={id:l.value++,sender:ee,content:e,time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),isMe:!0,avatar:S};ae.value.push(a),i.value="",te()},re=()=>{s.value=!0,te()},ie=()=>{s.value=!1};return d(()=>{te(),p.on("openChat",re)}),u(()=>{p.off("openChat",re)}),(e,a)=>{const l=M,o=G,c=K,m=Y,d=H,p=D,u=v("ripple");return x(),f("div",null,[g(p,{modelValue:w(s),"onUpdate:modelValue":a[1]||(a[1]=e=>V(s)?s.value=e:null),size:w(t)?"100%":"480px","with-header":!1},{default:j(()=>[y("div",F,[y("div",null,[a[2]||(a[2]=y("span",{class:"text-base font-medium"},"Art Bot",-1)),y("div",J,[y("div",{class:b(["h-2 w-2 rounded-full",w(r)?"bg-success/100":"bg-danger/100"])},null,2),y("span",L,h(w(r)?"在线":"离线"),1)])]),y("div",null,[g(l,{class:"c-p",size:20,onClick:ie},{default:j(()=>[g(w(_))]),_:1})])]),y("div",Q,[y("div",{class:"flex-1 overflow-y-auto border-t-d px-4 py-7.5 [&::-webkit-scrollbar]:!w-1",ref_key:"messageContainer",ref:n},[(x(!0),f(O,null,k(w(ae),(e,a)=>(x(),f("div",{key:a,class:b(["mb-7.5 flex w-full items-start gap-2",e.isMe?"flex-row-reverse":"flex-row"])},[g(o,{size:32,src:e.avatar,class:"shrink-0"},null,8,["src"]),y("div",{class:b(["flex max-w-[70%] flex-col",e.isMe?"items-end":"items-start"])},[y("div",{class:b(["mb-1 flex gap-2 text-xs",e.isMe?"flex-row-reverse":"flex-row"])},[y("span",R,h(e.sender),1),y("span",W,h(e.time),1)],2),y("div",{class:b(["rounded-md px-3.5 py-2.5 text-sm leading-[1.4] text-g-900",e.isMe?"message-right bg-theme/15":"message-left bg-g-300/50"])},h(e.content),3)],2)],2))),128))],512),y("div",X,[g(m,{modelValue:w(i),"onUpdate:modelValue":a[0]||(a[0]=e=>V(i)?i.value=e:null),type:"textarea",rows:3,placeholder:"输入消息",resize:"none",onKeyup:z(C(se,["prevent"]),["enter"])},{append:j(()=>[y("div",$,[g(c,{icon:w(A),circle:"",plain:""},null,8,["icon"]),g(c,{icon:w(I),circle:"",plain:""},null,8,["icon"]),E((x(),P(c,{type:"primary",onClick:se},{default:j(()=>[...a[3]||(a[3]=[T("发送",-1)])]),_:1})),[[u]])])]),_:1},8,["modelValue","onKeyup"]),y("div",q,[y("div",N,[g(d,{icon:"ri:image-line",class:"mr-5 c-p text-g-600 text-lg"}),g(d,{icon:"ri:emotion-happy-line",class:"mr-5 c-p text-g-600 text-lg"})]),E((x(),P(c,{type:"primary",onClick:se,class:"min-w-20"},{default:j(()=>[...a[4]||(a[4]=[T("发送",-1)])]),_:1})),[[u]])])])])]),_:1},8,["modelValue","size"])])}}}))));var te;export{ae as default};
